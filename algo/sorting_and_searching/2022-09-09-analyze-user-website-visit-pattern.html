<!DOCTYPE html>




<html
 dir="ltr"
 lang="en"
 class="has-navbar-fixed-top">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content=#ffffff>
    <link rel="stylesheet" href="/assets/css/prism.css">
    <link rel="stylesheet" href="/assets/css/tabs.css">
    <link rel="stylesheet" href="/assets/css/app.css">
    <link rel="shortcut icon" type="image/png"
           href="/assets/img/favicon.png" 
    />
    <script defer src="https://unpkg.com/alpinejs@3.9.0/dist/cdn.min.js"></script>
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    
    <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Analyze User Website Visit Pattern | yokolet’s notelets</title>
<meta name="generator" content="Jekyll v3.9.2" />
<meta property="og:title" content="Analyze User Website Visit Pattern" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Blog site mostly for programming topics." />
<meta property="og:description" content="Blog site mostly for programming topics." />
<link rel="canonical" href="http://localhost:4000/algo/sorting_and_searching/2022-09-09-analyze-user-website-visit-pattern.html" />
<meta property="og:url" content="http://localhost:4000/algo/sorting_and_searching/2022-09-09-analyze-user-website-visit-pattern.html" />
<meta property="og:site_name" content="yokolet’s notelets" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-09-09T17:30:00+09:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Analyze User Website Visit Pattern" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-09-09T17:30:00+09:00","datePublished":"2022-09-09T17:30:00+09:00","description":"Blog site mostly for programming topics.","headline":"Analyze User Website Visit Pattern","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/algo/sorting_and_searching/2022-09-09-analyze-user-website-visit-pattern.html"},"url":"http://localhost:4000/algo/sorting_and_searching/2022-09-09-analyze-user-website-visit-pattern.html"}</script>
<!-- End Jekyll SEO tag -->

    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-761764-8"></script>
<script>
  window['ga-disable-UA-761764-8'] = window.doNotTrack === "1" || navigator.doNotTrack === "1" || navigator.doNotTrack === "yes" || navigator.msDoNotTrack === "1";
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-761764-8');
</script><!-- head scripts --></head>

  <body>
    <nav class="navbar is-primary  is-fixed-top " x-data="{ openNav: false }">
    <div class="container">
        <div class="navbar-brand">
            <a href="/" class="navbar-item">
                yokolet's notelets
            </a>
            <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="navMenu" :class="{ 'is-active': openNav }" x-on:click="openNav = !openNav">
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
            </a>
        </div>
        <div class="navbar-menu" id="navMenu" :class="{ 'is-active': openNav }">
            <div class="navbar-start">
                <a href="/" class="navbar-item ">Home</a>
                
                
                    
                    <a href="/blog/" class="navbar-item ">Blog</a>
                    
                
                    
                    <a href="/algo/" class="navbar-item ">Algo</a>
                    
                
                    
                    <a href="/about/" class="navbar-item ">About</a>
                    
                
                
            </div>

            <div class="navbar-end">
                
            </div>

        </div>
    </div>
</nav>

    
        <section class="hero  is-small  is-bold is-primary" >
    <div class="hero-body ">
        <div class="container">
            <h1 class="title is-2">Analyze User Website Visit Pattern</h1>
            <p class="subtitle is-3"></p>
            
        </div>
    </div>
</section>
    
    


    <section class="section">
        <div class="container">
            <div class="columns is-multiline">
                
                <div class="column is-12">
                    
                    
                    
                    
                    <div class="content">

    <p>Published: Sep 9, 2022</p>

    

    <h2 id="introduction">Introduction</h2>
<p>This problem needs much reading.
Once we can figure out, we’ll find it needs multiple sorts.
Additionally, creating combinations of three websites is required.
Python has a built-in function to create the combinations.
That function is used here.</p>

<h2 id="problem-description">Problem Description</h2>
<blockquote>
  <p>You are given two string arrays username and website and an integer array timestamp.
All the given arrays are of the same length and the tuple
<code>[username[i], website[i], timestamp[i]]</code> indicates that
the user <code>username[i]</code> visited the website <code>website[i]</code> at time <code>timestamp[i]</code>.</p>

  <p>A pattern is a list of three websites (not necessarily distinct).
For example, [“home”, “away”, “love”], [“leetcode”, “love”, “leetcode”],
and [“luffy”, “luffy”, “luffy”] are all patterns.</p>

  <p>The score of a pattern is the number of users that visited all the websites
in the pattern in the same order they appeared in the pattern.</p>

  <p>Return the pattern with the largest score.
If there is more than one pattern with the same largest score,
return the lexicographically smallest such pattern.</p>

  <p>Constraints:</p>
  <ul>
    <li><code>3 &lt;= username.length &lt;= 50</code></li>
    <li><code>1 &lt;= username[i].length &lt;= 10</code></li>
    <li><code>timestamp.length == username.length</code></li>
    <li><code>1 &lt;= timestamp[i] &lt;= 10**9</code></li>
    <li><code>website.length == username.length</code></li>
    <li><code>1 &lt;= website[i].length &lt;= 10</code></li>
    <li><code>username[i]</code> and <code>website[i]</code> consist of lowercase English letters.</li>
    <li>It is guaranteed that there is at least one user who visited at least three websites.</li>
    <li>All the tuples <code>[username[i], timestamp[i], website[i]]</code> are unique.</li>
  </ul>

  <p><a href="https://leetcode.com/problems/analyze-user-website-visit-pattern/">https://leetcode.com/problems/analyze-user-website-visit-pattern/</a></p>
</blockquote>

<h2 id="examples">Examples</h2>
<pre><code>Example 1:
Input: username = ["joe","joe","joe","james","james","james","james","mary","mary","mary"],
       timestamp = [1,2,3,4,5,6,7,8,9,10],
       website = ["home","about","career","home","cart","maps","home","home","about","career"]
Output: ["home","about","career"]
Explanation: The tuples in this example are:
["joe","home",1],["joe","about",2],["joe","career",3],["james","home",4],["james","cart",5],["james","maps",6],["james","home",7],["mary","home",8],["mary","about",9], and ["mary","career",10].
The pattern ("home", "about", "career") has score 2 (joe and mary).
The pattern ("home", "cart", "maps") has score 1 (james).
The pattern ("home", "cart", "home") has score 1 (james).
The pattern ("home", "maps", "home") has score 1 (james).
The pattern ("cart", "maps", "home") has score 1 (james).
The pattern ("home", "home", "home") has score 0 (no user visited home 3 times).
</code></pre>

<pre><code>Example 2:
Input: username = ["ua","ua","ua","ub","ub","ub"],
       timestamp = [1,2,3,4,5,6],
       website = ["a","b","a","a","b","c"]
Output: ["a","b","a"]
</code></pre>

<h2 id="analysis">Analysis</h2>
<p>The solution consists of three steps.
The first step is to create a user based website list sorted by timestamp.
This should be saved in a hash table.
The second step is to create three websites combinations from the values of the first  hash table.
While creating the three website combination, count up that.
The last step is to find out the most visited 3 websites combination from the second hash table.</p>

<h2 id="solution">Solution</h2>
<pre><code class="language-python">class AnalyzeUserWebsiteVisitPattern:
    def mostVisitedPattern(self, username: List[str], timestamp: List[int], website: List[str]) -&gt; List[str]:
        n = len(username)
        visits = defaultdict(list)
        for t, u, w in sorted(zip(timestamp, username, website), key=lambda x: x[0]):
            visits[u].append(w)
        scores = defaultdict(int)
        for ws in visits.values():
            for comb in set(itertools.combinations(ws, 3)):
                scores[comb] += 1
        max_score, pat = 0, None
        for k, v in scores.items():
            if max_score &lt; v:
                max_score = v
                pat = k
            elif max_score == v:
                pat = min(pat, k)
        return list(pat)
</code></pre>

<h2 id="complexities">Complexities</h2>
<ul>
  <li>Time: <code>O(n*log(n))</code> – sorting, <code>O(n^3)</code> – combinations</li>
  <li>Space: <code>O(n+m)</code> – n: number of users, m: number of 3 website combinations</li>
</ul>

</div>

<div class="tags">
    
    <span class="tag  is-primary ">
    Medium
</span>
    
    <span class="tag  is-primary ">
    Sorting
</span>
    
    <span class="tag  is-primary ">
    Hash Table
</span>
    
</div>




                </div>
                
            </div>
        </div>
    </section>
    
        <footer class="footer">
    <div class="container">

        

        <div class="content is-small has-text-centered">
            <p class="">Theme built by <a href="https://www.csrhymes.com">C.S. Rhymes</a></p>
            <p class=""> Copyright &copy; Yoko Harada</p>
        </div>
    </div>
</footer>
    
    <script src="/assets/js/app.js" type="text/javascript"></script><!-- footer scripts -->
<script src="/assets/js/prism.js" type="text/javascript"></script>
<script src="/assets/js/tabs.js" type="text/javascript"></script>
<script src="https://kit.fontawesome.com/62ce2f5610.js" crossorigin="anonymous"></script>
</body>
</html>
