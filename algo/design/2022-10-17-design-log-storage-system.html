<!DOCTYPE html>




<html
 dir="ltr"
 lang="en"
 class="has-navbar-fixed-top">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content=#ffffff>
    <meta http-equiv='cache-control' content='no-cache'>
    <meta http-equiv='expires' content='0'>
    <meta http-equiv='pragma' content='no-cache'>
    <link rel="stylesheet" href="/assets/css/prism.css">
    <link rel="stylesheet" href="/assets/css/tabs.css">
    <link rel="stylesheet" href="/assets/css/accordion.css">
    <link rel="stylesheet" href="/assets/css/app.css">
    <link rel="shortcut icon" type="image/png"
           href="/assets/img/favicon.png" 
    />
    <script defer src="https://unpkg.com/alpinejs@3.9.0/dist/cdn.min.js"></script>
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    
    <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Design Log Storage System | yokolet’s notelets</title>
<meta name="generator" content="Jekyll v3.9.5" />
<meta property="og:title" content="Design Log Storage System" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Blog site mostly for programming topics." />
<meta property="og:description" content="Blog site mostly for programming topics." />
<link rel="canonical" href="http://localhost:4000/algo/design/2022-10-17-design-log-storage-system.html" />
<meta property="og:url" content="http://localhost:4000/algo/design/2022-10-17-design-log-storage-system.html" />
<meta property="og:site_name" content="yokolet’s notelets" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-10-17T14:33:00+09:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Design Log Storage System" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-10-17T14:33:00+09:00","datePublished":"2022-10-17T14:33:00+09:00","description":"Blog site mostly for programming topics.","headline":"Design Log Storage System","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/algo/design/2022-10-17-design-log-storage-system.html"},"url":"http://localhost:4000/algo/design/2022-10-17-design-log-storage-system.html"}</script>
<!-- End Jekyll SEO tag -->

    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-761764-8"></script>
<script>
  window['ga-disable-UA-761764-8'] = window.doNotTrack === "1" || navigator.doNotTrack === "1" || navigator.doNotTrack === "yes" || navigator.msDoNotTrack === "1";
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-761764-8');
</script><!-- head scripts --></head>

  <body>
    <nav class="navbar is-primary  is-fixed-top " x-data="{ openNav: false }">
    <div class="container">
        <div class="navbar-brand">
            <a href="/" class="navbar-item">
                yokolet's notelets
            </a>
            <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="navMenu" :class="{ 'is-active': openNav }" x-on:click="openNav = !openNav">
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
            </a>
        </div>
        <div class="navbar-menu" id="navMenu" :class="{ 'is-active': openNav }">
            <div class="navbar-start">
                <a href="/" class="navbar-item ">Home</a>
                
                
                    
                    <a href="/blog/" class="navbar-item ">Blog</a>
                    
                
                    
                    <a href="/algo/" class="navbar-item ">Algo</a>
                    
                
                    
                    <a href="/about/" class="navbar-item ">About</a>
                    
                
                
            </div>

            <div class="navbar-end">
                
            </div>

        </div>
    </div>
</nav>

    
        <section class="hero  is-small  is-bold is-primary" >
    <div class="hero-body ">
        <div class="container">
            <h1 class="title is-2">Design Log Storage System</h1>
            <p class="subtitle is-3"></p>
            
        </div>
    </div>
</section>
    
    


    <section class="section">
        <div class="container">
            <div class="columns is-multiline">
                
                <div class="column is-3-desktop is-4-tablet">
                    

<aside class="menu accordion">
    
    <div class="menu-list">
        
        <div class="container ">
            <a class="menu-label">
                Arrays
            </a>
            <ul class="content">
                
                
                    
                    <li>
                        <a href="/algo/arrays/2022-12-17-amount-of-new-area-painted-each-day"
                           class="submenu">
                            Amount of New Area Painted Each Day
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/arrays/2022-09-12-bag-of-tokens"
                           class="submenu">
                            Bag of Tokens
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/arrays/2022-12-12-check-if-all-the-integers-in-a-range-are-covered"
                           class="submenu">
                            Check if All the Integers in a Range Are Covered
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/arrays/2022-09-27-check-if-every-row-and-column-contains-all-numbers"
                           class="submenu">
                            Check if Every Row and Column Contains All Numbers
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/arrays/2022-10-21-contains-duplicate-ii"
                           class="submenu">
                            Contains Duplicate II
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/arrays/2022-10-26-continuous-subarray-sum"
                           class="submenu">
                            Continuous Subarray Sum
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/arrays/2022-09-15-find-original-array-from-doubled-array"
                           class="submenu">
                            Find Original Array From Doubled Array
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/arrays/2023-02-09-find-the-difference-of-two-arrays"
                           class="submenu">
                            Find the Difference of Two Arrays
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/arrays/2022-09-27-flood-fill"
                           class="submenu">
                            Flood Fill
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/arrays/2022-10-16-gas-station"
                           class="submenu">
                            Gas Station
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/arrays/2022-09-21-make-array-zero-by-subtracting-equal-amounts"
                           class="submenu">
                            Make Array Zero by Subtracting Equal Amounts
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/arrays/2024-05-24-maximum-sum-of-distinct-subarrays-with-length-k"
                           class="submenu">
                            Maximum Sum of Distinct Subarrays With Length K
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/arrays/2022-09-23-merge-sorted-array"
                           class="submenu">
                            Merge Sorted Array
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/arrays/2022-09-18-minimum-adjacent-swaps-for-k-consecutive-ones"
                           class="submenu">
                            Minimum Adjacent Swaps for K Consecutive Ones
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/arrays/2022-09-18-minimum-adjacent-swaps-to-make-a-valid-array"
                           class="submenu">
                            Minimum Adjacent Swaps to Make a Valid Array
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/arrays/2022-09-09-minimum-health-to-beat-game"
                           class="submenu">
                            Minimum Health to Beat Game
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/arrays/2022-09-25-minimum-knight-moves"
                           class="submenu">
                            Minimum Knight Moves
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/arrays/2022-09-18-minimum-swaps-to-group-all-1-s-together"
                           class="submenu">
                            Minimum Swaps to Group All 1's Together
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/arrays/2022-09-18-minimum-swaps-to-group-all-1-s-together-ii"
                           class="submenu">
                            Minimum Swaps to Group All 1's Together II
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/arrays/2022-10-03-minimum-time-to-make-rope-colorful"
                           class="submenu">
                            Minimum Time to Make Rope Colorful
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/arrays/2022-09-10-number-of-islands"
                           class="submenu">
                            Number of Islands
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/arrays/2022-09-21-pairs-of-songs-with-total-durations-divisible-by-60"
                           class="submenu">
                            Pairs of Songs With Total Durations Divisible by 60
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/arrays/2022-09-21-partition-array-such-that-maximum-difference-is-k"
                           class="submenu">
                            Partition Array Such That Maximum Difference Is K
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/arrays/2022-09-12-range-addition"
                           class="submenu">
                            Range Addition
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/arrays/2022-09-12-rotting-oranges"
                           class="submenu">
                            Rotting Oranges
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/arrays/2022-10-26-subarray-sum-equals-k"
                           class="submenu">
                            Subarray Sum Equals K
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/arrays/2022-09-21-sum-of-even-numbers-after-queries"
                           class="submenu">
                            Sum of Even Numbers After Queries
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/arrays/2022-12-20-the-earliest-moment-when-everyone-become-friends"
                           class="submenu">
                            The Earliest Moment When Everyone Become Friends
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/arrays/2023-01-31-the-latest-time-to-catch-a-bus"
                           class="submenu">
                            The Latest Time to Catch a Bus
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/arrays/2022-09-18-trapping-rain-water"
                           class="submenu">
                            Trapping Rain Water
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/arrays/2022-09-13-utf-8-validation"
                           class="submenu">
                            UTF-8 Validation
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/arrays/2022-09-26-valid-sudoku"
                           class="submenu">
                            Valid Sudoku
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/arrays/2022-11-01-where-will-the-ball-fall"
                           class="submenu">
                            Where Will the Ball Fall
                        </a>
                    </li>
                    
                
            </ul>
        </div>
        
        <div class="container ">
            <a class="menu-label">
                Strings
            </a>
            <ul class="content">
                
                
                    
                    <li>
                        <a href="/algo/strings/2024-05-24-append-characters-to-string-to-make-subsequence"
                           class="submenu">
                            Append Characters to String to Make Subsequence
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/strings/2022-09-14-concatenated-words"
                           class="submenu">
                            Concatenated Words
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/strings/2022-10-18-count-and-say"
                           class="submenu">
                            Count and Say
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/strings/2022-09-12-count-binary-substrings"
                           class="submenu">
                            Count Binary Substrings
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/strings/2023-01-21-count-words-obtained-after-adding-a-letter"
                           class="submenu">
                            Count Words Obtained After Adding a Letter
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/strings/2023-01-12-counting-words-with-a-given-prefix"
                           class="submenu">
                            Counting Words With a Given Prefix
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/strings/2022-09-24-find-words-that-can-be-formed-by-characters"
                           class="submenu">
                            Find Words That Can Be Formed by Characters
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/strings/2022-09-12-flip-string-to-monotone-increasing"
                           class="submenu">
                            Flip String to Monotone Increasing
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/strings/2022-10-20-integer-to-roman"
                           class="submenu">
                            Integer to Roman
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/strings/2024-05-25-length-of-the-longest-valid-substring"
                           class="submenu">
                            Length of the Longest Valid Substring
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/strings/2022-12-09-license-key-formatting"
                           class="submenu">
                            License Key Formatting
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/strings/2022-11-03-longest-palindrome"
                           class="submenu">
                            Longest Palindrome
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/strings/2022-11-03-longest-palindrome-by-concatenating-two-letter-words"
                           class="submenu">
                            Longest Palindrome by Concatenating Two Letter Words
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/strings/2023-01-19-longest-string-chain"
                           class="submenu">
                            Longest String Chain
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/strings/2022-10-24-maximum-length-of-a-concatenated-string-with-unique-characters"
                           class="submenu">
                            Maximum Length of a Concatenated String with Unique Characters
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/strings/2022-11-02-minimum-genetic-mutation"
                           class="submenu">
                            Minimum Genetic Mutation
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/strings/2022-09-12-minimum-number-of-keypresses"
                           class="submenu">
                            Minimum Number of Keypresses
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/strings/2022-09-14-minimum-number-of-moves-to-make-palindrome"
                           class="submenu">
                            Minimum Number of Moves to Make Palindrome
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/strings/2022-09-12-minimum-number-of-swaps-to-make-the-binary-string-alternating"
                           class="submenu">
                            Minimum Number of Swaps to Make the Binary String Alternating
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/strings/2022-10-24-minimum-window-substring"
                           class="submenu">
                            Minimum Window Substring
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/strings/2022-09-21-optimal-partition-of-string"
                           class="submenu">
                            Optimal Partition of String
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/strings/2022-09-17-palindrome-pairs"
                           class="submenu">
                            Palindrome Pairs
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/strings/2022-09-27-push-dominoes"
                           class="submenu">
                            Push Dominoes
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/strings/2022-11-04-reverse-vowels-of-a-string"
                           class="submenu">
                            Reverse Vowels of a String
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/strings/2022-09-24-subdomain-visit-count"
                           class="submenu">
                            Subdomain Visit Count
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/strings/2022-12-26-sum-of-prefix-scores-of-strings"
                           class="submenu">
                            Sum of Prefix Scores of Strings
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/strings/2022-09-23-text-justification"
                           class="submenu">
                            Text Justification
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/strings/2022-09-14-total-appeal-of-a-string"
                           class="submenu">
                            Total Appeal of A String
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/strings/2022-12-07-unique-email-addresses"
                           class="submenu">
                            Unique Email Addresses
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/strings/2022-09-08-verifying-an-alien-dictionary"
                           class="submenu">
                            Verifying an Alien Dictionary
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/strings/2022-11-02-word-ladder"
                           class="submenu">
                            Word Ladder
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/strings/2022-11-03-word-ladder-ii"
                           class="submenu">
                            Word Ladder II
                        </a>
                    </li>
                    
                
            </ul>
        </div>
        
        <div class="container ">
            <a class="menu-label">
                Linked lists
            </a>
            <ul class="content">
                
                
                    
                    <li>
                        <a href="/algo/linked_lists/2022-10-13-delete-node-in-a-linked-list"
                           class="submenu">
                            Delete Node in a Linked List
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/linked_lists/2022-09-12-maximum-twin-sum-of-a-linked-list"
                           class="submenu">
                            Maximum Twin Sum of a Linked List
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/linked_lists/2022-09-22-merge-k-sorted-lists"
                           class="submenu">
                            Merge k Sorted Lists
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/linked_lists/2022-09-22-merge-two-sorted-lists"
                           class="submenu">
                            Merge Two Sorted Lists
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/linked_lists/2022-12-06-odd-even-linked-list"
                           class="submenu">
                            Odd Even Linked List
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/linked_lists/2022-09-12-palindrome-linked-list"
                           class="submenu">
                            Palindrome Linked List
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/linked_lists/2022-09-28-remove-nth-node-from-end-of-list"
                           class="submenu">
                            Remove Nth Node From End of List
                        </a>
                    </li>
                    
                
            </ul>
        </div>
        
        <div class="container ">
            <a class="menu-label">
                Stacks and Queues
            </a>
            <ul class="content">
                
                
                    
                    <li>
                        <a href="/algo/stacks_and_queues/2022-09-08-basic-calculator-ii"
                           class="submenu">
                            Basic Calculator II
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/stacks_and_queues/2022-09-07-buildings-with-an-ocean-view"
                           class="submenu">
                            Buildings With an Ocean View
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/stacks_and_queues/2022-09-07-largest-rectangle-in-histogram"
                           class="submenu">
                            Largest Rectangle in Histogram
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/stacks_and_queues/2022-11-08-make-the-string-great"
                           class="submenu">
                            Make The String Great
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/stacks_and_queues/2022-09-21-maximum-number-of-robots-within-budget"
                           class="submenu">
                            Maximum Number of Robots Within Budget
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/stacks_and_queues/2022-09-07-minimum-remove-to-make-valid-parentheses"
                           class="submenu">
                            Minimum Remove to Make Valid Parentheses
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/stacks_and_queues/2022-12-09-odd-even-jump"
                           class="submenu">
                            Odd Even Jump
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/stacks_and_queues/2023-01-23-remove-duplicate-letters"
                           class="submenu">
                            Remove Duplicate Letters
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/stacks_and_queues/2022-09-13-sum-of-subarray-minimums"
                           class="submenu">
                            Sum of Subarray Minimums
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/stacks_and_queues/2022-09-09-sum-of-subarray-ranges"
                           class="submenu">
                            Sum of Subarray Ranges
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/stacks_and_queues/2022-09-14-sum-of-total-strength-of-wizards"
                           class="submenu">
                            Sum of Total Strength of Wizards
                        </a>
                    </li>
                    
                
            </ul>
        </div>
        
        <div class="container ">
            <a class="menu-label">
                Trees
            </a>
            <ul class="content">
                
                
                    
                    <li>
                        <a href="/algo/trees/2022-10-05-add-one-row-to-tree"
                           class="submenu">
                            Add One Row to Tree
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/trees/2022-09-21-amount-of-time-for-binary-tree-to-be-infected"
                           class="submenu">
                            Amount of Time for Binary Tree to Be Infected
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/trees/2022-09-30-binary-tree-inorder-traversal"
                           class="submenu">
                            Binary Tree Inorder Traversal
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/trees/2022-12-10-binary-tree-maximum-path-sum"
                           class="submenu">
                            Binary Tree Maximum Path Sum
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/trees/2023-01-16-closest-binary-search-tree-value"
                           class="submenu">
                            Closest Binary Search Tree Value
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/trees/2023-01-17-construct-binary-search-tree-from-preorder-traversal"
                           class="submenu">
                            Construct Binary Search Tree from Preorder Traversal
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/trees/2023-01-15-convert-sorted-array-to-binary-search-tree"
                           class="submenu">
                            Convert Sorted Array to Binary Search Tree
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/trees/2022-12-18-find-leaves-of-binary-tree"
                           class="submenu">
                            Find Leaves of Binary Tree
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/trees/2022-10-14-increasing-order-search-tree"
                           class="submenu">
                            Increasing Order Search Tree
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/trees/2022-09-30-inorder-successor-in-bst"
                           class="submenu">
                            Inorder Successor in BST
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/trees/2022-10-29-lowest-common-ancestor-of-a-binary-search-tree"
                           class="submenu">
                            Lowest Common Ancestor of a Binary Search Tree
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/trees/2022-09-26-lowest-common-ancestor-of-a-binary-tree"
                           class="submenu">
                            Lowest Common Ancestor of a Binary Tree
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/trees/2022-10-04-path-sum"
                           class="submenu">
                            Path Sum
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/trees/2022-09-24-path-sum-ii"
                           class="submenu">
                            Path Sum II
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/trees/2022-09-14-pseudo-palindromic-paths-in-a-binary-tree"
                           class="submenu">
                            Pseudo-Palindromic Paths in a Binary Tree
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/trees/2022-12-07-range-sum-of-bst"
                           class="submenu">
                            Range Sum of BST
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/trees/2023-01-16-recover-binary-search-tree"
                           class="submenu">
                            Recover Binary Search Tree
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/trees/2022-12-17-step-by-step-directions-from-a-binary-tree-node-to-another"
                           class="submenu">
                            Step-By-Step Directions From a Binary Tree Node to Another
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/trees/2022-12-06-two-sum-iv-input-is-a-bst"
                           class="submenu">
                            Two Sum IV - Input is a BST
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/trees/2023-01-17-unique-binary-search-trees"
                           class="submenu">
                            Unique Binary Search Trees
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/trees/2023-01-16-validate-binary-search-tree"
                           class="submenu">
                            Validate Binary Search Tree
                        </a>
                    </li>
                    
                
            </ul>
        </div>
        
        <div class="container ">
            <a class="menu-label">
                Graphs
            </a>
            <ul class="content">
                
                
                    
                    <li>
                        <a href="/algo/graphs/2022-10-21-cheapest-flights-within-k-stops"
                           class="submenu">
                            Cheapest Flights Within K Stops
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/graphs/2022-12-27-detonate-the-maximum-bombs"
                           class="submenu">
                            Detonate the Maximum Bombs
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/graphs/2022-10-20-evaluate-division"
                           class="submenu">
                            Evaluate Division
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/graphs/2023-01-20-find-all-possible-recipes-from-given-supplies"
                           class="submenu">
                            Find All Possible Recipes from Given Supplies
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/graphs/2022-10-21-network-delay-time"
                           class="submenu">
                            Network Delay Time
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/graphs/2022-12-24-number-of-good-paths"
                           class="submenu">
                            Number of Good Paths
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/graphs/2022-09-17-number-of-provinces"
                           class="submenu">
                            Number of Provinces
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/graphs/2022-10-21-path-with-maximum-probability"
                           class="submenu">
                            Path with Maximum Probability
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/graphs/2022-10-30-path-with-minimum-effort"
                           class="submenu">
                            Path With Minimum Effort
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/graphs/2022-09-26-satisfiability-of-equality-equations"
                           class="submenu">
                            Satisfiability of Equality Equations
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/graphs/2022-10-30-shortest-path-in-a-grid-with-obstacles-elimination"
                           class="submenu">
                            Shortest Path in a Grid with Obstacles Elimination
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/graphs/2022-09-13-shortest-path-to-get-food"
                           class="submenu">
                            Shortest Path to Get Food
                        </a>
                    </li>
                    
                
            </ul>
        </div>
        
        <div class="container ">
            <a class="menu-label">
                Dynamic Programming
            </a>
            <ul class="content">
                
                
                    
                    <li>
                        <a href="/algo/dynamic_programming/2022-12-12-climbing-stairs"
                           class="submenu">
                            Climbing Stairs
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/dynamic_programming/2022-09-14-count-unique-characters-of-all-substrings-of-a-given-string"
                           class="submenu">
                            Count Unique Characters of All Substrings of a Given String
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/dynamic_programming/2022-12-27-filling-bookcase-shelves"
                           class="submenu">
                            Filling Bookcase Shelves
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/dynamic_programming/2024-05-23-longest-common-subsequence"
                           class="submenu">
                            Longest Common Subsequence
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/dynamic_programming/2022-10-20-longest-increasing-path-in-a-matrix"
                           class="submenu">
                            Longest Increasing Path in a Matrix
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/dynamic_programming/2022-09-10-maximum-length-of-subarray-with-positive-product"
                           class="submenu">
                            Maximum Length of Subarray With Positive Product
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/dynamic_programming/2022-09-20-maximum-length-of-repeated-subarray"
                           class="submenu">
                            Maximum Length of Repeated Subarray
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/dynamic_programming/2022-09-19-maximum-number-of-books-you-can-take"
                           class="submenu">
                            Maximum Number of Books You Can Take
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/dynamic_programming/2022-09-16-maximum-score-from-performing-multiplication-operations"
                           class="submenu">
                            Maximum Score from Performing Multiplication Operations
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/dynamic_programming/2023-01-25-minimum-swaps-to-make-sequences-increasing"
                           class="submenu">
                            Minimum Swaps To Make Sequences Increasing
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/dynamic_programming/2022-09-10-number-of-ways-to-select-buildings"
                           class="submenu">
                            Number of Ways to Select Buildings
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/dynamic_programming/2023-01-25-sentence-screen-fitting"
                           class="submenu">
                            Sentence Screen Fitting
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/dynamic_programming/2023-01-13-student-attendance-record-ii"
                           class="submenu">
                            Student Attendance Record II
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/dynamic_programming/2022-09-14-substring-with-largest-variance"
                           class="submenu">
                            Substring With Largest Variance
                        </a>
                    </li>
                    
                
            </ul>
        </div>
        
        <div class="container ">
            <a class="menu-label">
                Backtracking
            </a>
            <ul class="content">
                
                
                    
                    <li>
                        <a href="/algo/backtracking/2022-09-23-word-search"
                           class="submenu">
                            Word Search
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/backtracking/2022-09-23-word-search-ii"
                           class="submenu">
                            Word Search II
                        </a>
                    </li>
                    
                
            </ul>
        </div>
        
        <div class="container ">
            <a class="menu-label">
                Sorting and searching
            </a>
            <ul class="content">
                
                
                    
                    <li>
                        <a href="/algo/sorting_and_searching/2022-09-09-analyze-user-website-visit-pattern"
                           class="submenu">
                            Analyze User Website Visit Pattern
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/sorting_and_searching/2024-05-28-count-number-of-rectangles-containing-each-point"
                           class="submenu">
                            Count Number of Rectangles Containing Each Point
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/sorting_and_searching/2022-09-21-divide-intervals-into-minimum-number-of-groups"
                           class="submenu">
                            Divide Intervals Into Minimum Number of Groups
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/sorting_and_searching/2022-10-29-earliest-possible-day-of-full-bloom"
                           class="submenu">
                            Earliest Possible Day of Full Bloom
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/sorting_and_searching/2022-12-12-find-first-and-last-position-of-element-in-sorted-array"
                           class="submenu">
                            Find First and Last Position of Element in Sorted Array
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/sorting_and_searching/2022-09-29-find-k-closest-elements"
                           class="submenu">
                            Find K Closest Elements
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/sorting_and_searching/2022-09-19-find-k-th-smallest-pair-distance"
                           class="submenu">
                            Find K-th Smallest Pair Distance
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/sorting_and_searching/2022-09-10-k-closest-points-to-origin"
                           class="submenu">
                            K Closest Points to Origin
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/sorting_and_searching/2022-09-13-maximum-units-on-a-truck"
                           class="submenu">
                            Maximum Units on a Truck
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/sorting_and_searching/2022-12-09-median-of-two-sorted-arrays"
                           class="submenu">
                            Median of Two Sorted Arrays
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/sorting_and_searching/2022-09-10-meeting-rooms-ii"
                           class="submenu">
                            Meeting Rooms II -- Minimum Rooms
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/sorting_and_searching/2022-12-22-meeting-rooms-iii"
                           class="submenu">
                            Meeting Rooms III -- Most Used Room
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/sorting_and_searching/2024-05-24-merge-intervals"
                           class="submenu">
                            Merge Intervals
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/sorting_and_searching/2022-09-13-minimum-cost-to-connect-sticks"
                           class="submenu">
                            Minimum Cost to Connect Sticks
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/sorting_and_searching/2022-09-10-plates-between-candles"
                           class="submenu">
                            Plates Between Candles
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/sorting_and_searching/2022-12-15-race-car"
                           class="submenu">
                            Race Car
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/sorting_and_searching/2022-09-09-reorder-data-in-log-files"
                           class="submenu">
                            Reorder Data in Log Files
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/sorting_and_searching/2022-09-12-reorganize-string"
                           class="submenu">
                            Reorganize String
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/sorting_and_searching/2022-09-10-search-suggestions-system"
                           class="submenu">
                            Search Suggestions System
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/sorting_and_searching/2022-10-14-sliding-window-median"
                           class="submenu">
                            Sliding Window Median
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/sorting_and_searching/2022-09-24-top-k-frequent-elements"
                           class="submenu">
                            Top K Frequent Elements
                        </a>
                    </li>
                    
                
            </ul>
        </div>
        
        <div class="container is-active">
            <a class="menu-label">
                Design
            </a>
            <ul class="content">
                
                
                    
                    <li>
                        <a href="/algo/design/2022-09-30-binary-search-tree-iterator"
                           class="submenu">
                            Binary Search Tree Iterator
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/design/2022-09-25-design-circular-queue"
                           class="submenu">
                            Design Circular Queue
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/design/2022-09-26-design-hit-counter"
                           class="submenu">
                            Design Hit Counter
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/design/2022-10-17-design-log-storage-system"
                           class="submenu">
                            Design Log Storage System
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/design/2022-10-31-design-snake-game"
                           class="submenu">
                            Design Snake Game
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/design/2022-12-29-detect-squares"
                           class="submenu">
                            Detect Squares
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/design/2022-09-24-find-median-from-data-stream"
                           class="submenu">
                            Find Median from Data Stream
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/design/2022-12-01-insert-delete-getrandom-o-1"
                           class="submenu">
                            Insert Delete GetRandom O(1)
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/design/2022-10-17-logger-rate-limiter"
                           class="submenu">
                            Logger Rate Limiter
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/design/2022-09-09-lru-cache"
                           class="submenu">
                            LRU Cache
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/design/2022-10-07-my-calendar-i"
                           class="submenu">
                            My Calendar I
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/design/2022-10-07-my-calendar-ii"
                           class="submenu">
                            My Calendar II
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/design/2022-10-07-my-calendar-iii"
                           class="submenu">
                            My Calendar III
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/design/2022-11-09-online-stock-span"
                           class="submenu">
                            Online Stock Span
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/design/2023-01-31-peeking-iterator"
                           class="submenu">
                            Peeking Iterator
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/design/2022-12-28-random-pick-with-weight"
                           class="submenu">
                            Random Pick with Weight
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/design/2022-12-19-range-module"
                           class="submenu">
                            Range Module
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/design/2023-01-22-snapshot-array"
                           class="submenu">
                            Snapshot Array
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/design/2022-09-07-stock-price-fluctuation"
                           class="submenu">
                            Stock Price Fluctuation
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/design/2022-10-06-time-based-key-value-store"
                           class="submenu">
                            Time Based Key-Value Store
                        </a>
                    </li>
                    
                
            </ul>
        </div>
        
        <div class="container ">
            <a class="menu-label">
                Others
            </a>
            <ul class="content">
                
                
                    
                    <li>
                        <a href="/algo/others/2022-09-26-alert-using-same-key-card-three-or-more-times-in-a-one-hour-period"
                           class="submenu">
                            Alert Using Same Key-Card Three or More Times in a One Hour Period
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/others/2022-09-23-concatenation-of-consecutive-binary-numbers"
                           class="submenu">
                            Concatenation of Consecutive Binary Numbers
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/others/2022-09-10-find-triangular-sum-of-an-array"
                           class="submenu">
                            Find Triangular Sum of an Array
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/others/2023-01-12-finding-the-number-of-visible-mountains"
                           class="submenu">
                            Finding the Number of Visible Mountains
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/others/2022-10-20-largest-perimeter-triangle"
                           class="submenu">
                            Largest Perimeter Triangle
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/others/2022-11-07-maximum-69-number"
                           class="submenu">
                            Maximum 69 Number
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/others/2022-12-22-maximum-and-sum-of-array"
                           class="submenu">
                            Maximum AND Sum of Array
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/others/2022-12-20-maximum-number-of-visible-points"
                           class="submenu">
                            Maximum Number of Visible Points
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/others/2023-01-20-minimum-time-difference"
                           class="submenu">
                            Minimum Time Difference
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/others/2022-09-13-robot-bounded-in-circle"
                           class="submenu">
                            Robot Bounded In Circle
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/others/2022-10-24-set-mismatch"
                           class="submenu">
                            Set Mismatch
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/others/2022-09-12-the-kth-factor-of-n"
                           class="submenu">
                            The kth Factor of n
                        </a>
                    </li>
                    
                
            </ul>
        </div>
        
        <div class="container ">
            <a class="menu-label">
                Stocks
            </a>
            <ul class="content">
                
                
                    
                    <li>
                        <a href="/algo/stocks/2022-07-26-best-time-to-buy-and-sell-stock-basic"
                           class="submenu">
                            Best Time to Buy and Sell Stock -- Basic
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/stocks/2022-07-26-best-time-to-buy-and-sell-stock-two-transactions"
                           class="submenu">
                            Best Time to Buy and Sell Stock III -- Two Transactions
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/stocks/2022-07-26-best-time-to-buy-and-sell-stock-multiple-times"
                           class="submenu">
                            Best Time to Buy and Sell Stock II -- Multiple Times
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/stocks/2022-07-26-best-time-to-buy-and-sell-stock-k-transactions"
                           class="submenu">
                            Best Time to Buy and Sell Stock IV -- At Most K Transactions
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/stocks/2022-07-27-best-time-to-buy-and-sell-stock-cooldown"
                           class="submenu">
                            Best Time to Buy and Sell Stock with Cooldown
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/stocks/2022-07-27-best-time-to-buy-and-sell-transaction-fee"
                           class="submenu">
                            Best Time to Buy and Sell Stock with Transaction Fee
                        </a>
                    </li>
                    
                
            </ul>
        </div>
        
        <div class="container ">
            <a class="menu-label">
                Minimize Maximum
            </a>
            <ul class="content">
                
                
                    
                    <li>
                        <a href="/algo/minimize_maximum/2022-07-24-minimize-maximum-cutting-ribbons"
                           class="submenu">
                            Cutting Ribbons
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/minimize_maximum/2022-07-22-minimize-maximum-divide-chocolate"
                           class="submenu">
                            Divide Chocolate
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/minimize_maximum/2022-07-25-minimize-maximum-koko-eating-bananas"
                           class="submenu">
                            Koko Eating Bananas
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/minimize_maximum/2022-07-24-minimize-maximum-candies-to-k-children"
                           class="submenu">
                            Maximum Candies Allocated to K Children
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/minimize_maximum/2022-07-24-minimize-maximum-balls-in-a-bag"
                           class="submenu">
                            Minimum Limit of Balls in a Bag
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/minimize_maximum/2022-07-26-minimize-maximum-min-days-to-make-m-bouquets"
                           class="submenu">
                            Minimum Number of Days to Make m Bouquets
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/minimize_maximum/2022-07-22-minimize-maximum-shipping-packages-in-d-days"
                           class="submenu">
                            Shipping Packages in D Days
                        </a>
                    </li>
                    
                    <li>
                        <a href="/algo/minimize_maximum/2022-07-22-minimize-maximum-splitting-array"
                           class="submenu">
                            Splitting Array
                        </a>
                    </li>
                    
                
            </ul>
        </div>
        
    </div>
    
</aside>
                </div>
                
                <div class="column is-9">
                    
                    
                    
                    
                    <div class="content">

    <p>Published: Oct 17, 2022</p>

    <div class="tags">
        
        <span class="tag  is-primary ">
    Medium
</span>
        
        <span class="tag  is-primary ">
    Hash Table
</span>
        
        <span class="tag  is-primary ">
    String
</span>
        
        <span class="tag  is-primary ">
    Design
</span>
        
    </div>

    

    <h2 id="problem-description">Problem Description</h2>
<blockquote>
  <p>You are given several logs, where each log contains a unique ID and timestamp. Timestamp is a string that has
the following format: <code>Year:Month:Day:Hour:Minute:Second</code>, for example, 2017:01:01:23:59:59. All domains are
zero-padded decimal numbers.</p>

  <p>Implement the <code>LogSystem</code> class:</p>
  <ul>
    <li><code>LogSystem()</code> Initializes the <code>LogSystem</code> object.</li>
    <li><code>void put(int id, string timestamp)</code> Stores the given log <code>(</code>id, timestamp)` in your storage system.</li>
    <li><code>int[] retrieve(string start, string end, string granularity)</code> Returns the IDs of the logs whose timestamps are
 within the range from <code>start</code> to <code>end</code> inclusive. The <code>start</code> and <code>end</code> all have the same format as timestamp,
 and <code>granularity</code> means how precise the range should be (i.e. to the exact Day, Minute, etc.). For example,
 <code>start = "2017:01:01:23:59:59"</code>, <code>end = "2017:01:02:23:59:59"</code>, and <code>granularity = "Day"</code> means that we need
 to find the logs within the inclusive range from Jan. 1st 2017 to Jan. 2nd 2017, and the Hour, Minute, and
 Second for each log entry can be ignored.</li>
  </ul>

  <p>Constraints:</p>
  <ul>
    <li><code>1 &lt;= id &lt;= 500</code></li>
    <li><code>2000 &lt;= Year &lt;= 2017</code></li>
    <li><code>1 &lt;= Month &lt;= 12</code></li>
    <li><code>1 &lt;= Day &lt;= 31</code></li>
    <li><code>0 &lt;= Hour &lt;= 23</code></li>
    <li><code>0 &lt;= Minute, Second &lt;= 59</code></li>
    <li><code>granularity</code> is one of the values <code>["Year", "Month", "Day", "Hour", "Minute", "Second"]</code>.</li>
    <li>At most 500 calls will be made to <code>put</code> and <code>retrieve</code>.</li>
  </ul>

  <p><a href="https://leetcode.com/problems/design-log-storage-system/">https://leetcode.com/problems/design-log-storage-system/</a></p>
</blockquote>

<h2 id="examples">Examples</h2>
<pre><code>Example 1

Input
["LogSystem", "put", "put", "put", "retrieve", "retrieve"]
[[], [1, "2017:01:01:23:59:59"], [2, "2017:01:01:22:59:59"], [3, "2016:01:01:00:00:00"],
["2016:01:01:01:01:01", "2017:01:01:23:00:00", "Year"], ["2016:01:01:01:01:01", "2017:01:01:23:00:00", "Hour"]]
Output
[null, null, null, null, [3, 2, 1], [2, 1]]

Explanation
LogSystem logSystem = new LogSystem();
logSystem.put(1, "2017:01:01:23:59:59");
logSystem.put(2, "2017:01:01:22:59:59");
logSystem.put(3, "2016:01:01:00:00:00");

// return [3,2,1], because you need to return all logs between 2016 and 2017.
logSystem.retrieve("2016:01:01:01:01:01", "2017:01:01:23:00:00", "Year");

// return [2,1], because you need to return all logs between Jan. 1, 2016 01:XX:XX and Jan. 1, 2017 23:XX:XX.
// Log 3 is not returned because Jan. 1, 2016 00:00:00 comes before the start of the range.
logSystem.retrieve("2016:01:01:01:01:01", "2017:01:01:23:00:00", "Hour");
</code></pre>

<pre><code>Example 2

Input
["LogSystem","put","put","retrieve"]
[[],[1,"2017:01:01:23:59:59"],[2,"2017:01:02:23:59:59"],["2017:01:01:23:59:59","2017:01:02:23:59:59","Second"]]
Output
[null, null, null, [2, 1]]
</code></pre>

<h2 id="how-to-solve">How to Solve</h2>

<p>When a problem is related to logging, how to handle timestamp is a key to solve the problem.
Sometime it is already a numeric, but sometime it is given as a string.
Whether the timestamp string should be converted to actual datetime object or not is a design decision.
In this case, using it just as a string makes the code simpler.</p>

<p>The given timestamp strings are like: ‘yyyy:mm:dd:hh:MM:ss’ always.
Additionally, all are zero padded.
This means comparison by string is easy.
The granularity parameter specified the length of string comparison.
If it is ‘Year’, the first 4 letters should be compared.
If it is ‘Hour’, the first 13 letters should be compared.
And so on.
Given that, the solution here has a granularity to length (C++) / index (Python) table.
To retrieve the ids in the range, timestamp strings are compared up to the granularity index.
The answer is straightforward.</p>

<h2 id="solution">Solution</h2>

<div class="tabs is-boxed " id="solution">
  <div class="container">
    <ul>
      
        <li class="is-active" data-tab="solution-0">
          <a><span>C++ </span></a>
        </li>
      
        <li data-tab="solution-1">
          <a><span>Java </span></a>
        </li>
      
        <li data-tab="solution-2">
          <a><span>JavaScript </span></a>
        </li>
      
        <li data-tab="solution-3">
          <a><span>Python </span></a>
        </li>
      
        <li data-tab="solution-4">
          <a><span>Ruby </span></a>
        </li>
      
    </ul>
  </div>
</div>
<div id="solution-content">
  <div class="container box">
    
      <div class="is-active tab-content" data-content="solution-0">
<pre><code class="language-cpp">class LogSystem {
private:
    vector&lt;pair&lt;int, string&gt;&gt; logs;
    unordered_map&lt;string, int&gt; lengths = {
        {"Year", 4}, {"Month", 7}, {"Day", 10},
        {"Hour", 13}, {"Minute", 16}, {"Second", 19}
    };

public:
    LogSystem() {}

    void put(int id, string timestamp) {
        logs.push_back({id, timestamp});
    }

    vector&lt;int&gt; retrieve(string start, string end, string granularity) {
        string s = start.substr(0, lengths[granularity]);
        string e = end.substr(0, lengths[granularity]);
        vector&lt;int&gt; result;
        for (auto log : logs) {
            string tm = log.second.substr(0, lengths[granularity]);
            if (s &lt;= tm &amp;&amp; tm &lt;= e) {
                result.push_back(log.first);
            }
        }
        return result;
    }
};
</code></pre>
</div>
    
      <div class="tab-content" data-content="solution-1">
<pre><code class="language-java">import java.util.*;

public class LogSystem {
    private List&lt;Object[]&gt; logs = new ArrayList&lt;&gt;();
    private Map&lt;String, Integer&gt; indices = new HashMap&lt;String, Integer&gt;() { {
        put("Year", 5);
        put("Month", 8);
        put("Day", 11);
        put("Hour", 14);
        put("Minute", 17);
        put("Second", 19);
    } };
    public LogSystem() {}

    public void put(int id, String timestamp) {
        logs.add(new Object[]{id, timestamp});
    }

    public List&lt;Integer&gt; retrieve(String start, String end, String granularity) {
        int idx = indices.get(granularity);
        String s = start.substring(0, idx), e = end.substring(0, idx);
        List&lt;Integer&gt; result = new ArrayList&lt;&gt;();
        for (Object[] log : logs) {
            int id_ = (Integer)log[0];
            String timestamp = ((String)log[1]).substring(0, idx);
            if (s.compareTo(timestamp) &lt;= 0 &amp;&amp; e.compareTo(timestamp) &gt;= 0) {
                result.add(id_);
            }
        }
        return result;
    }
}
</code></pre>
</div>
    
      <div class="tab-content" data-content="solution-2">
<pre><code class="language-js">var LogSystem = function() {
  this.logs = [];
  this.indices = new Map([
    ["Year", 5],
    ["Month", 8],
    ["Day", 11],
    ["Hour", 14],
    ["Minute", 17],
    ["Second", 19]
    ]
  )
};

/**
 * @param {number} id
 * @param {string} timestamp
 * @return {void}
 */
LogSystem.prototype.put = function(id, timestamp) {
  this.logs.push([id, timestamp]);
};

/**
 * @param {string} start
 * @param {string} end
 * @param {string} granularity
 * @return {number[]}
 */
LogSystem.prototype.retrieve = function(start, end, granularity) {
  const idx = this.indices.get(granularity);
  const s = start.substring(0, idx), e = end.substring(0, idx);
  let result = [];
  this.logs.forEach(log =&gt; {
    let id_ = log[0], timestamp = log[1].substring(0, idx);
    if (s.localeCompare(timestamp) &lt;= 0 &amp;&amp; e.localeCompare(timestamp) &gt;= 0) {
      result.push(id_);
    }
  });
  return result;
};
</code></pre>
</div>
    
      <div class="tab-content" data-content="solution-3">
<pre><code class="language-python">class LogSystem:

    def __init__(self):
        self.logs = []
        self.indices = {
            'Year': 5, 'Month': 8, 'Day': 11,
            'Hour': 14, 'Minute': 17, 'Second': 20
        }

    def put(self, id: int, timestamp: str) -&gt; None:
        self.logs.append((id, timestamp))

    def retrieve(self, start: str, end: str, granularity: str) -&gt; List[int]:
        idx = self.indices[granularity]
        s, e = start[:idx], end[:idx]
        return [id_ for id_, timestamp in self.logs if s &lt;= timestamp[:idx] &lt;= e]
</code></pre>
</div>
    
      <div class="tab-content" data-content="solution-4">
<pre><code class="language-ruby">class LogSystem

  def initialize()
    @logs = Array.new
    @lengths = {
      'Year' =&gt; 4,
      'Month' =&gt; 7,
      'Day' =&gt; 10,
      'Hour' =&gt; 13,
      'Minute' =&gt; 16,
      'Second' =&gt; 19
    }
  end


=begin
    :type id: Integer
    :type timestamp: String
    :rtype: Void
=end
  def put(id, timestamp)
    @logs &lt;&lt; [id, timestamp]
  end


=begin
    :type start: String
    :type end: String
    :type granularity: String
    :rtype: Integer[]
=end
  def retrieve(start, end_, granularity)
    len = @lengths[granularity]
    s, e = start[0, len], end_[0, len]
    @logs.inject([]) do |acc, log|
      tm = log[1][0, len]
      s &lt;= tm &amp;&amp; tm &lt;= e ? acc + [log[0]] : acc
    end
  end


end
</code></pre>
</div>
    
  </div>
</div>

<h2 id="complexities">Complexities</h2>
<ul>
  <li>Time: put – <code>O(1)</code>, retrieve – <code>O(n)</code>: n is a total number of logs</li>
  <li>Space: <code>O(n)</code></li>
</ul>

</div>




                </div>
                
            </div>
        </div>
    </section>
    
        <footer class="footer">
    <div class="container">

        

        <div class="content is-small has-text-centered">
            <p class="">Theme built by <a href="https://www.csrhymes.com">C.S. Rhymes</a></p>
            <p class=""> Copyright &copy; Yoko Harada</p>
        </div>
    </div>
</footer>
    
    <script src="/assets/js/app.js" type="text/javascript"></script><!-- footer scripts -->
<script src="/assets/js/prism.js" type="text/javascript"></script>
<script src="/assets/js/tabs.js" type="text/javascript"></script>
<script src="/assets/js/accordion.js" type="text/javascript"></script>
<script src="https://kit.fontawesome.com/62ce2f5610.js" crossorigin="anonymous"></script>
</body>
</html>
