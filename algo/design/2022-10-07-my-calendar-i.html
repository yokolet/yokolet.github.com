<!DOCTYPE html>




<html
 dir="ltr"
 lang="en"
 class="has-navbar-fixed-top">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content=#ffffff>
    <link rel="stylesheet" href="/assets/css/prism.css">
    <link rel="stylesheet" href="/assets/css/tabs.css">
    <link rel="stylesheet" href="/assets/css/app.css">
    <link rel="shortcut icon" type="image/png"
           href="/assets/img/favicon.png" 
    />
    <script defer src="https://unpkg.com/alpinejs@3.9.0/dist/cdn.min.js"></script>
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    
    <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>My Calendar I | yokolet’s notelets</title>
<meta name="generator" content="Jekyll v3.9.2" />
<meta property="og:title" content="My Calendar I" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Blog site mostly for programming topics." />
<meta property="og:description" content="Blog site mostly for programming topics." />
<link rel="canonical" href="http://localhost:4000/algo/design/2022-10-07-my-calendar-i.html" />
<meta property="og:url" content="http://localhost:4000/algo/design/2022-10-07-my-calendar-i.html" />
<meta property="og:site_name" content="yokolet’s notelets" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-10-07T17:48:00+09:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="My Calendar I" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-10-07T17:48:00+09:00","datePublished":"2022-10-07T17:48:00+09:00","description":"Blog site mostly for programming topics.","headline":"My Calendar I","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/algo/design/2022-10-07-my-calendar-i.html"},"url":"http://localhost:4000/algo/design/2022-10-07-my-calendar-i.html"}</script>
<!-- End Jekyll SEO tag -->

    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-761764-8"></script>
<script>
  window['ga-disable-UA-761764-8'] = window.doNotTrack === "1" || navigator.doNotTrack === "1" || navigator.doNotTrack === "yes" || navigator.msDoNotTrack === "1";
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-761764-8');
</script><!-- head scripts --></head>

  <body>
    <nav class="navbar is-primary  is-fixed-top " x-data="{ openNav: false }">
    <div class="container">
        <div class="navbar-brand">
            <a href="/" class="navbar-item">
                yokolet's notelets
            </a>
            <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="navMenu" :class="{ 'is-active': openNav }" x-on:click="openNav = !openNav">
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
            </a>
        </div>
        <div class="navbar-menu" id="navMenu" :class="{ 'is-active': openNav }">
            <div class="navbar-start">
                <a href="/" class="navbar-item ">Home</a>
                
                
                    
                    <a href="/blog/" class="navbar-item ">Blog</a>
                    
                
                    
                    <a href="/algo/" class="navbar-item ">Algo</a>
                    
                
                    
                    <a href="/about/" class="navbar-item ">About</a>
                    
                
                
            </div>

            <div class="navbar-end">
                
            </div>

        </div>
    </div>
</nav>

    
        <section class="hero  is-small  is-bold is-primary" >
    <div class="hero-body ">
        <div class="container">
            <h1 class="title is-2">My Calendar I</h1>
            <p class="subtitle is-3"></p>
            
        </div>
    </div>
</section>
    
    


    <section class="section">
        <div class="container">
            <div class="columns is-multiline">
                
                <div class="column is-12">
                    
                    
                    
                    
                    <div class="content">

    <p>Published: Oct 7, 2022</p>

    

    <h2 id="introduction">Introduction</h2>
<p>This problem is one of my calendar series and easier one.
The start and end time pair can be saved in a single array.
In such a case, the array will have values: <code>[start[0], end[0], start[1], end[1], ...]</code>.
The start times are always on the even indices, while the end times are on odd indices.
Using Python’s bisect search, the insertion point can be found.
If the start time insertion point is not on even index, the range overlaps to some of existing events.
This way, we can check a double booking.</p>

<h2 id="problem-description">Problem Description</h2>
<blockquote>
  <p>You are implementing a program to use as your calendar. We can add a new event if adding the event will not
cause a double booking.
A double booking happens when two events have some non-empty intersection (i.e., some moment is common to both events.).</p>

  <p>The event can be represented as a pair of integers <code>start</code> and <code>end</code> that represents a booking on
the half-open interval <code>[start, end)</code>, the range of real numbers <code>x</code> such that <code>start &lt;= x &lt; end</code>.</p>

  <p>Implement the MyCalendar class:</p>
  <ul>
    <li><code>MyCalendar()</code> Initializes the calendar object.</li>
    <li><code>boolean book(int start, int end)</code> Returns <code>true</code> if the event can be added to the calendar
 successfully without causing a double booking. Otherwise, return <code>false</code> and do not add the event to the calendar.</li>
  </ul>

  <p>Constraints:</p>
  <ul>
    <li><code>0 &lt;= start &lt; end &lt;= 10**9</code></li>
    <li>At most 1000 calls will be made to book.</li>
  </ul>

  <p><a href="https://leetcode.com/problems/my-calendar-i/">https://leetcode.com/problems/my-calendar-i/</a></p>
</blockquote>

<h2 id="examples">Examples</h2>
<pre><code>Example 1
Input
["MyCalendar", "book", "book", "book"]
[[], [10, 20], [15, 25], [20, 30]]
Output
[null, true, false, true]

Explanation
MyCalendar myCalendar = new MyCalendar();
myCalendar.book(10, 20); // return True
myCalendar.book(15, 25); // return False, It can not be booked because time 15 is already booked by another event.
myCalendar.book(20, 30); // return True, The event can be booked, as the first event takes every time less than 20,
                            but not including 20.
</code></pre>

<h2 id="analysis">Analysis</h2>
<p>The solution here uses a single array, which has the values like, <code>[start[0], end[0], start[1], end[1], ...]</code>.
The even indices are start times, while odd indices are end times.
When the book method is called, it finds the insertion point by Python’s bisect search.
If the index for start is not even, the range overlaps.
If the index for end is not the same as start, the range overlaps.
If it is not a double booking, insert the start and end at the insertion point.</p>

<h2 id="solution">Solution</h2>
<pre><code class="language-python">class MyCalendar:

    def __init__(self):
        self.bookings = []
        

    def book(self, start: int, end: int) -&gt; bool:
        if end &lt;= start:
            return False
        left = bisect.bisect_right(self.bookings, start)
        if left % 2 == 1:
            return False
        right = bisect.bisect_left(self.bookings, end)
        if left != right:
            return False
        self.bookings[left:left] = [start, end]
        return True
</code></pre>

<h2 id="complexities">Complexities</h2>
<ul>
  <li>Time: <code>O(n + log(n))</code></li>
  <li>Space: <code>O(n)</code></li>
</ul>

</div>

<div class="tags">
    
    <span class="tag  is-primary ">
    Medium
</span>
    
    <span class="tag  is-primary ">
    Binary Search
</span>
    
    <span class="tag  is-primary ">
    Design
</span>
    
</div>




                </div>
                
            </div>
        </div>
    </section>
    
        <footer class="footer">
    <div class="container">

        

        <div class="content is-small has-text-centered">
            <p class="">Theme built by <a href="https://www.csrhymes.com">C.S. Rhymes</a></p>
            <p class=""> Copyright &copy; Yoko Harada</p>
        </div>
    </div>
</footer>
    
    <script src="/assets/js/app.js" type="text/javascript"></script><!-- footer scripts -->
<script src="/assets/js/prism.js" type="text/javascript"></script>
<script src="/assets/js/tabs.js" type="text/javascript"></script>
<script src="https://kit.fontawesome.com/62ce2f5610.js" crossorigin="anonymous"></script>
</body>
</html>
