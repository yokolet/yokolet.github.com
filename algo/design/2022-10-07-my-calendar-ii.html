<!DOCTYPE html>




<html
 dir="ltr"
 lang="en"
 class="has-navbar-fixed-top">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content=#ffffff>
    <link rel="stylesheet" href="/assets/css/prism.css">
    <link rel="stylesheet" href="/assets/css/tabs.css">
    <link rel="stylesheet" href="/assets/css/app.css">
    <link rel="shortcut icon" type="image/png"
           href="/assets/img/favicon.png" 
    />
    <script defer src="https://unpkg.com/alpinejs@3.9.0/dist/cdn.min.js"></script>
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    
    <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>My Calendar II | yokolet’s notelets</title>
<meta name="generator" content="Jekyll v3.9.2" />
<meta property="og:title" content="My Calendar II" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Blog site mostly for programming topics." />
<meta property="og:description" content="Blog site mostly for programming topics." />
<link rel="canonical" href="http://localhost:4000/algo/design/2022-10-07-my-calendar-ii.html" />
<meta property="og:url" content="http://localhost:4000/algo/design/2022-10-07-my-calendar-ii.html" />
<meta property="og:site_name" content="yokolet’s notelets" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-10-07T21:30:00+09:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="My Calendar II" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-10-07T21:30:00+09:00","datePublished":"2022-10-07T21:30:00+09:00","description":"Blog site mostly for programming topics.","headline":"My Calendar II","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/algo/design/2022-10-07-my-calendar-ii.html"},"url":"http://localhost:4000/algo/design/2022-10-07-my-calendar-ii.html"}</script>
<!-- End Jekyll SEO tag -->

    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-761764-8"></script>
<script>
  window['ga-disable-UA-761764-8'] = window.doNotTrack === "1" || navigator.doNotTrack === "1" || navigator.doNotTrack === "yes" || navigator.msDoNotTrack === "1";
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-761764-8');
</script><!-- head scripts --></head>

  <body>
    <nav class="navbar is-primary  is-fixed-top " x-data="{ openNav: false }">
    <div class="container">
        <div class="navbar-brand">
            <a href="/" class="navbar-item">
                yokolet's notelets
            </a>
            <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="navMenu" :class="{ 'is-active': openNav }" x-on:click="openNav = !openNav">
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
            </a>
        </div>
        <div class="navbar-menu" id="navMenu" :class="{ 'is-active': openNav }">
            <div class="navbar-start">
                <a href="/" class="navbar-item ">Home</a>
                
                
                    
                    <a href="/blog/" class="navbar-item ">Blog</a>
                    
                
                    
                    <a href="/algo/" class="navbar-item ">Algo</a>
                    
                
                    
                    <a href="/about/" class="navbar-item ">About</a>
                    
                
                
            </div>

            <div class="navbar-end">
                
            </div>

        </div>
    </div>
</nav>

    
        <section class="hero  is-small  is-bold is-primary" >
    <div class="hero-body ">
        <div class="container">
            <h1 class="title is-2">My Calendar II</h1>
            <p class="subtitle is-3"></p>
            
        </div>
    </div>
</section>
    
    


    <section class="section">
        <div class="container">
            <div class="columns is-multiline">
                
                <div class="column is-12">
                    
                    
                    
                    
                    <div class="content">

    <p>Published: Oct 7, 2022</p>

    

    <h2 id="introduction">Introduction</h2>
<p>This problem is one of my calendar series and a bit tricky one.
Since it allows double booking but not triple booking, how to save start/end values is important.
One of the solution is to use 2 arrays for no-overbooking and double booking.
When the given start and end overlaps with some elements in double booking array, it will be triple booking.
When the given start and end overlaps with some elements in no-overbooking array, it will be double booking.
Using two arrays, we can check the given start/end pair can be checked.</p>

<h2 id="problem-description">Problem Description</h2>
<blockquote>
  <p>You are implementing a program to use as your calendar. We can add a new event if adding the event will
not cause a triple booking.
A triple booking happens when three events have some non-empty intersection (i.e., some moment is
common to all the three events.).</p>

  <p>The event can be represented as a pair of integers <code>start</code> and <code>end</code> that represents a booking on the half-open
interval <code>[start, end)</code>, the range of real numbers <code>x</code> such that <code>start &lt;= x &lt; end</code>.</p>

  <p>Implement the MyCalendarTwo class:</p>
  <ul>
    <li><code>MyCalendarTwo()</code> Initializes the calendar object.</li>
    <li><code>boolean book(int start, int end)</code> Returns <code>true </code>if the event can be added to the calendar successfully
 without causing a triple booking. Otherwise, return <code>false</code> and do not add the event to the calendar.</li>
  </ul>

  <p>Constraints:</p>
  <ul>
    <li><code>0 &lt;= start &lt; end &lt;= 10**9</code></li>
    <li>At most 1000 calls will be made to book.</li>
  </ul>

  <p><a href="https://leetcode.com/problems/my-calendar-ii/">https://leetcode.com/problems/my-calendar-ii/</a></p>
</blockquote>

<h2 id="examples">Examples</h2>
<pre><code>Example 1
Input
["MyCalendarTwo", "book", "book", "book", "book", "book", "book"]
[[], [10, 20], [50, 60], [10, 40], [5, 15], [5, 10], [25, 55]]
Output
[null, true, true, true, false, true, true]

Explanation
MyCalendarTwo myCalendarTwo = new MyCalendarTwo();
myCalendarTwo.book(10, 20); // return True, The event can be booked. 
myCalendarTwo.book(50, 60); // return True, The event can be booked. 
myCalendarTwo.book(10, 40); // return True, The event can be double booked. 
myCalendarTwo.book(5, 15);  // return False, The event cannot be booked, because it would result in a triple booking.
myCalendarTwo.book(5, 10); // return True, The event can be booked, as it does not use time 10 which is already double booked.
myCalendarTwo.book(25, 55); // return True, The event can be booked, as the time in [25, 40) will be double booke
 with the third event, the time [40, 50) will be single booked, and the time [50, 55) will be double booked with
 the second event.
</code></pre>

<h2 id="analysis">Analysis</h2>
<p>The solution here uses two arrays for no-overbooking and double-booking.
The first step is to check double-booking array whether the given start/end overlaps or not.
The second step is to check no-overbooking array.
If there’s an overlap, add the start/end range to overbooking array.
If there’s no overlap, add the start/end range to non-overbooking array.</p>

<h2 id="solution">Solution</h2>
<pre><code class="language-python">class MyCalendarTwo:

    def __init__(self):
        self.bookings = []
        self.overlaps = []
        
    def book(self, start: int, end: int) -&gt; bool:
        for s, e in self.overlaps:
            if start &lt; e and end &gt; s:
                return False
        for s, e in self.bookings:
            if start &lt; e and end &gt; s:
                self.overlaps.append((max(start, s), min(end, e)))
        self.bookings.append((start, end))
        return True
</code></pre>

<h2 id="complexities">Complexities</h2>
<ul>
  <li>Time: <code>O(n)</code></li>
  <li>Space: <code>O(n)</code></li>
</ul>

</div>

<div class="tags">
    
    <span class="tag  is-primary ">
    Medium
</span>
    
    <span class="tag  is-primary ">
    Design
</span>
    
    <span class="tag  is-primary ">
    Binary Search
</span>
    
</div>




                </div>
                
            </div>
        </div>
    </section>
    
        <footer class="footer">
    <div class="container">

        

        <div class="content is-small has-text-centered">
            <p class="">Theme built by <a href="https://www.csrhymes.com">C.S. Rhymes</a></p>
            <p class=""> Copyright &copy; Yoko Harada</p>
        </div>
    </div>
</footer>
    
    <script src="/assets/js/app.js" type="text/javascript"></script><!-- footer scripts -->
<script src="/assets/js/prism.js" type="text/javascript"></script>
<script src="/assets/js/tabs.js" type="text/javascript"></script>
<script src="https://kit.fontawesome.com/62ce2f5610.js" crossorigin="anonymous"></script>
</body>
</html>
