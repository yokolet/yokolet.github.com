<!DOCTYPE html>




<html
 dir="ltr"
 lang="en"
 class="has-navbar-fixed-top">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content=#ffffff>
    <link rel="stylesheet" href="/assets/css/prism.css">
    <link rel="stylesheet" href="/assets/css/tabs.css">
    <link rel="stylesheet" href="/assets/css/app.css">
    <link rel="shortcut icon" type="image/png"
           href="/assets/img/favicon.png" 
    />
    <script defer src="https://unpkg.com/alpinejs@3.9.0/dist/cdn.min.js"></script>
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    
    <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Rotting Oranges | yokolet’s notelets</title>
<meta name="generator" content="Jekyll v3.9.2" />
<meta property="og:title" content="Rotting Oranges" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Blog site mostly for programming topics." />
<meta property="og:description" content="Blog site mostly for programming topics." />
<link rel="canonical" href="http://localhost:4000/algo/arrays/2022-09-12-rotting-oranges.html" />
<meta property="og:url" content="http://localhost:4000/algo/arrays/2022-09-12-rotting-oranges.html" />
<meta property="og:site_name" content="yokolet’s notelets" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-09-12T14:42:00+09:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Rotting Oranges" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-09-12T14:42:00+09:00","datePublished":"2022-09-12T14:42:00+09:00","description":"Blog site mostly for programming topics.","headline":"Rotting Oranges","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/algo/arrays/2022-09-12-rotting-oranges.html"},"url":"http://localhost:4000/algo/arrays/2022-09-12-rotting-oranges.html"}</script>
<!-- End Jekyll SEO tag -->

    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-761764-8"></script>
<script>
  window['ga-disable-UA-761764-8'] = window.doNotTrack === "1" || navigator.doNotTrack === "1" || navigator.doNotTrack === "yes" || navigator.msDoNotTrack === "1";
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-761764-8');
</script><!-- head scripts --></head>

  <body>
    <nav class="navbar is-primary  is-fixed-top " x-data="{ openNav: false }">
    <div class="container">
        <div class="navbar-brand">
            <a href="/" class="navbar-item">
                yokolet's notelets
            </a>
            <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="navMenu" :class="{ 'is-active': openNav }" x-on:click="openNav = !openNav">
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
            </a>
        </div>
        <div class="navbar-menu" id="navMenu" :class="{ 'is-active': openNav }">
            <div class="navbar-start">
                <a href="/" class="navbar-item ">Home</a>
                
                
                    
                    <a href="/blog/" class="navbar-item ">Blog</a>
                    
                
                    
                    <a href="/algo/" class="navbar-item ">Algo</a>
                    
                
                    
                    <a href="/about/" class="navbar-item ">About</a>
                    
                
                
            </div>

            <div class="navbar-end">
                
            </div>

        </div>
    </div>
</nav>

    
        <section class="hero  is-small  is-bold is-primary" >
    <div class="hero-body ">
        <div class="container">
            <h1 class="title is-2">Rotting Oranges</h1>
            <p class="subtitle is-3"></p>
            
        </div>
    </div>
</section>
    
    


    <section class="section">
        <div class="container">
            <div class="columns is-multiline">
                
                <div class="column is-12">
                    
                    
                    
                    
                    <div class="content">

    <p>Published: Sep 12, 2022</p>

    

    <h2 id="introduction">Introduction</h2>
<p>This is a type of the Game of Life problem.
It requires phases to reach to the final (or next) state.
All grid cells should be checked and have an updated value if it needs.
So, brute force easily gets time limit exceeded error.
To avoid longer compute time, the breadth-first search is a good solution.</p>

<h2 id="problem-description">Problem Description</h2>
<blockquote>
  <p>You are given an <code>m x n</code> grid where each cell can have one of three values:</p>
  <ul>
    <li>0 representing an empty cell,</li>
    <li>1 representing a fresh orange, or</li>
    <li>2 representing a rotten orange.
Every minute, any fresh orange that is 4-directionally adjacent to a rotten orange becomes rotten.</li>
  </ul>

  <p>Return the minimum number of minutes that must elapse until no cell has a fresh orange.
If this is impossible, return -1.</p>

  <p>Constraints:</p>
  <ul>
    <li><code>m == grid.length</code></li>
    <li><code>n == grid[i].length</code></li>
    <li><code>1 &lt;= m, n &lt;= 10</code></li>
    <li><code>grid[i][j] is 0, 1, or 2</code></li>
  </ul>

  <p><a href="https://leetcode.com/problems/rotting-oranges/">https://leetcode.com/problems/rotting-oranges/</a></p>
</blockquote>

<h2 id="examples">Examples</h2>
<pre><code>Example 1:
Input: grid = [[2,1,1],[1,1,0],[0,1,1]]
Output: 4
0: [[2,1,1],[1,1,0],[0,1,1]]
1: [[2,2,1],[2,1,0],[0,1,1]]
2: [[2,2,2],[2,2,0],[0,1,1]]
3: [[2,2,2],[2,2,0],[0,2,1]]
4: [[2,2,2],[2,2,0],[0,2,2]]
</code></pre>

<pre><code>Exmaple 2:
Input: grid = [[2,1,1],[0,1,1],[1,0,1]]
Output: -1
Explanation: The orange in the bottom left corner (row 2, column 0) is never rotten,
because rotting only happens 4-directionally.
</code></pre>

<pre><code>Example 3:
Input: grid = [[0,2]]
Output: 0
Explanation: Since there are already no fresh oranges at minute 0, the answer is just 0.
</code></pre>

<h2 id="analysis">Analysis</h2>
<p>To find out terminal condition, count total and rotten number of oranges.
When rotten becomes total, the iteration should be stopped.
There might be a fresh orange never gets rotten since there’s no fresh/rotten orange in 4 directions.
Even in a such case, breadth-first search works since it won’t include that.
The breadth-first search starts from all rotten oranges in the grid.
Add 4 directions to the queue if a fresh orange exists, and change the state of the orange.
At the same time, count up rotten oranges.
Before go to the next iteration, count up the time.
When the queue becomes empty, the iteration finishes.</p>

<h2 id="solution">Solution</h2>
<pre><code class="language-python">class RottingOranges:
    def orangesRotting(self, grid: List[List[int]]) -&gt; int:
        m, n = len(grid), len(grid[0])
        total, rotten = 0, 0
        queue = []
        for i in range(m):
            for j in range(n):
                if grid[i][j] &gt;= 1:
                    total += 1
                if grid[i][j] == 2:
                    rotten += 1
                    queue.append((i, j))
        mins = 0
        while queue:
            q_len = len(queue)
            for _ in range(q_len):
                i, j = queue.pop(0)
                for r, c in [(i - 1, j), (i, j - 1), (i, j + 1), (i + 1, j)]:
                    if 0 &lt;= r &lt; m and 0 &lt;= c &lt; n and grid[r][c] == 1:
                        grid[r][c] = 2
                        queue.append((r, c))
                        rotten += 1
            if queue:
                mins += 1
        return mins if total == rotten else -1
</code></pre>

<h2 id="complexities">Complexities</h2>
<ul>
  <li>Time: <code>O(m * n)</code> – m: grid rows, n: grid columns</li>
  <li>Space: <code>O(m * n)</code></li>
</ul>

</div>

<div class="tags">
    
    <span class="tag  is-primary ">
    Medium
</span>
    
    <span class="tag  is-primary ">
    Breadth-First Search
</span>
    
    <span class="tag  is-primary ">
    Array
</span>
    
    <span class="tag  is-primary ">
    Matrix
</span>
    
</div>




                </div>
                
            </div>
        </div>
    </section>
    
        <footer class="footer">
    <div class="container">

        

        <div class="content is-small has-text-centered">
            <p class="">Theme built by <a href="https://www.csrhymes.com">C.S. Rhymes</a></p>
            <p class=""> Copyright &copy; Yoko Harada</p>
        </div>
    </div>
</footer>
    
    <script src="/assets/js/app.js" type="text/javascript"></script><!-- footer scripts -->
<script src="/assets/js/prism.js" type="text/javascript"></script>
<script src="/assets/js/tabs.js" type="text/javascript"></script>
<script src="https://kit.fontawesome.com/62ce2f5610.js" crossorigin="anonymous"></script>
</body>
</html>
